@*
 * Copyright 2021 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.responses.StatusResponse

@this(
    layout: templates.Layout
)

@(status: StatusResponse)(implicit request: Request[_], messages: Messages)

@layout(
    pageTitle    = titleNoForm(messages("service.availability.title")),
    showBackLink = false
) {

    <h1 class="govuk-heading-xl">@messages("service.availability.heading")</h1>

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <table class="govuk-table">
                <caption class="govuk-table__caption govuk-table__caption--m">System Core Status - Arrivals</caption>
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header">System Core Name</th>
                        <th scope="col" class="govuk-table__header">Availability status</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@messages("service.availability.ncts.gb.arrivals")</td>
                        @if(status.gbDeparturesHealthy){
                        <td class="govuk-table__cell">
                            <span class="govuk-tag govuk-tag--green">@messages("service.availability.status.available")</span>
                        </td>
                        } else {
                        <td class="govuk-table__cell">
                              <span class="govuk-tag govuk-tag--red">@messages("service.availability.status.unavailable")</span>
                        </td>
                        }
                    </tr>
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@messages("service.availability.ncts.xi.arrivals")</td>
                        <!--TODO: Change the below hard coded value when XI channel is implemented-->
                        @if(status.xiDeparturesHealthy){
                        <td class="govuk-table__cell">
                            <span class="govuk-tag govuk-tag--green">@messages("service.availability.status.available")</span>
                        </td>
                        } else {
                        <td class="govuk-table__cell">
                            <span class="govuk-tag govuk-tag--red">@messages("service.availability.status.unavailable")</span>
                        </td>
                        }
                    </tr>
                </tbody>
            </table>
            <table class="govuk-table">
                <caption class="govuk-table__caption govuk-table__caption--m">System Core Status - Departures</caption>
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header">System Core Name</th>
                        <th scope="col" class="govuk-table__header">Availability status</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">@messages("service.availability.ncts.gb.departures")</td>
                    @if(status.gbDeparturesHealthy){
                    <td class="govuk-table__cell">
                        <span class="govuk-tag govuk-tag--green">@messages("service.availability.status.available")</span>
                    </td>
                    } else {
                    <td class="govuk-table__cell">
                        <span class="govuk-tag govuk-tag--red">@messages("service.availability.status.unavailable")</span>
                    </td>
                    }
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">@messages("service.availability.ncts.xi.departures")</td>
                    @if(status.xiDeparturesHealthy){
                    <td class="govuk-table__cell">
                        <span class="govuk-tag govuk-tag--green">@messages("service.availability.status.available")</span>
                    </td>
                    } else {
                    <td class="govuk-table__cell">
                        <span class="govuk-tag govuk-tag--red">@messages("service.availability.status.unavailable")</span>
                    </td>
                    }
                </tr>
                </tbody>
            </table>
        </div>
    </div>
}
